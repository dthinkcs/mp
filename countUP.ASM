Data segment
A DW 00H
MSG1 DB 13,'$' 
Data ends

PRINT MACRO MSG
	LEA DX,MSG
	MOV AH,09H
	INT 21H
ENDM

DISPLAY MACRO MSG
	MOV BL,10H
	MOV AX,MSG
	DIV BL
	XCHG AL,AH
	MOV BL,AL
	MOV BH,AH
	CMP BH,09H
	JNG SKIP1
	ADD BH,07
	SKIP1:
	ADD BH,30H
	CLC
	CMP BL,09H
	JNG SKIP2
	ADD BL,07
	SKIP2:
	ADD BL,30H
	MOV DL,BH
	MOV AH,02
	INT 21H
	MOV DL,BL
	MOV AH,02
	INT 21H
ENDM

Code SEGMENT
	ASSUME CS:CODE,DS:DATA
START:
	MOV AX,DATA
	MOV DS,AX
	
	
	BACK:
	DISPLAY A
	CALL DELAY
	PRINT MSG1
	CMP A,0FFH
	JZ SKIP
	ADD A,01H
	JMP YOLO
	SKIP: MOV A,00H
	YOLO:
	
	
	MOV DL,0FFH
	MOV AH,06
	INT 21H
	JNZ EXIT
	
	MOV CX,02
	
	LOOP BACK
	
	EXIT:
	
	MOV AH,4CH
	INT 21H
	
DELAY:
	MOV CX,0FFFH
	MOV DX,CX
	MOV BX,CX
	BACK1:
		MOV CX,DX
		BACK2:
		LOOP BACK2
		SUB BX,01
		MOV CX,BX
	LOOP BACK1
	RET

CODE ENDS
END START