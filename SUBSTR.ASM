DATA SEGMENT
		STRR DB 15, ?, 15 DUP('$')
		MAXLEN DB 15
		SUBLEN DB ?
		SUBSTRR DB 15 DUP('$')
        MSG DB 'ENTER STRING: $'
		SUBMSG DB 'ENTER SUBSTRING: $'
		EQUAL DB 'SUBSTRING FOUND $'
		NEQUAL DB 'SUBSTRING NOT FOUND $'
		LINE DB 10, 13, '$'
DATA ENDS

DISP MACRO M
    LEA DX, M
    MOV AH, 09H
    INT 21H
ENDM

CODE SEGMENT
ASSUME CS:CODE, DS: DATA, ES: DATA
START:
        MOV DX, DATA
        MOV DS, DX
		MOV ES, DX
		
		DISP MSG
		DISP LINE
		LEA DX, STRR
		MOV AH, 0AH
		INT 21H
		
		DISP LINE
		DISP SUBMSG
		DISP LINE
		LEA DX, MAXLEN
		MOV AH, 0AH
		INT 21H
		
		LEA SI, STRR
		INC SI
		MOV CL, STRR[SI]
		SUB CL, SUBLEN
		MOV CH, 0
		INC SI
		DISP LINE
		DISP LINE

	BK:	
		LEA DI, SUBSTRR
		CMPSB 
		PUSH SI
		JNE LBK
		CALL CMPSUB
		JE SAME
		POP SI
		INC SI
	LBK:LOOP BK
			
		DISP NEQUAL	
		JMP EXIT
		
	SAME:DISP EQUAL
		 JMP EXIT
	
	EXIT:
		DISP LINE

		MOV AH, 4CH
		INT 21H
		
CMPSUB:		
		PUSH CX
		MOV CL, SUBLEN
		MOV CH, 0
		DEC CX
		REPE CMPSB
		POP CX		
RET	

CODE ENDS
END START



